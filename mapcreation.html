<!DOCTYPE html>
<html>
  <head>
    <title>oofda</title>
    <link rel="stylesheet" href="css/ol-4.2.0.css" type="text/css">
    <link rel="stylesheet" href="css/oofda.css" type="text/css">
    <script src="js/ol-4.2.0.js"></script>
	<script src="js/jquery-3.2.1.min.js"></script>
	<script src="js/map.js"></script>
  </head>
  <body>
  <div id="mapcontainer">
    <div id="map" class="map"></div>
    <input id="swipe" type="range" value="0" />
    </div>
	<div id="legend" class="legend">
	  <h2>Legend:</h2>	     
	</div>
    <div id="photopopup" class="ol-popup">
      <a href="#" id="popup-closer" class="ol-popup-closer"></a>
      <div id="photopopup-content"></div>
    </div>
		
	
    <script>
      // FLOOD EVENT PARAMETERS
      var centerLonLat = [-91.1403, 30.4583]; 
      var initialZoom = 10;
      var zoomExtent = [10, 17];
	  var colorramp = [{
	    color: '#F4F142',
		label: ' Ankle to knee (0.4-1.5 ft)'
	  }, {
	    color: '#F4A642',
		label: ' Knee to waist (1.5-3.3 ft)'
	  }, {
	    color: '#F44141',
		label: ' Waist to head (3.3-5.5 ft)'	  
	  }, {
	    color: '#B841F4',
	    label: ' Over head (>5.5 ft)'
	  }]
      // END PARAMETERS

      initMap(centerLonLat, initialZoom, zoomExtent);
	  var areaPromise = addLayer("Data/BRFloodInundationArea.json", "August 2016 Floods", [{
	    color: "#0000FF",
		label: 'Flooded Area',
		opacity: 0.5
	  }],historicalStyle, false, undefined, areaSwatch, undefined);
      /*var hwmPromise = addLayer("Data/HWM_BR_new.json", "High Water Marks", [{
        color: '#000000',
        label: 'High water',
        opacity: 0.5
      }], categoricalStyle, true, areaPromise, pointSwatch);*/
	  var likelyPromise = addLayer("Data/City_File_for_example.json", "Probable Flood Extent",colorramp,
        categoricalStyle, true, areaPromise, areaSwatch, undefined);
	  var worstPromise = addLayer("Data/City_File_for_example.json", "Worst Case Flood Extent",colorramp,
        categoricalStyle, true, likelyPromise, areaSwatch, undefined);
	  var pinkyPromise = addLayer("Data/BRPhotoLocationsFinal.json", "August 2016 Flood Photos",[{
		color: '#FF0000',
		strokecolor: '#000000',
		label: 'Photo Locations',
		type:"point",
		opacity: 0.7
		}],
		photoStyle, false, worstPromise, pointSwatch, photopopup);
	  var termsPromise = addToTerms("Useful Flood Terms",[{
		label: 'Inundation Map',
		type:"FAQ",
		text:'Blah blah blah',
		id:'PopupThing'
		},{
		label: 'USGS Gage',
		type:"FAQ",
		text:'Blah blah blah',
		id:'PopupThing'
		},{
		label: 'River Stage',
		type:"FAQ",
		text:'Blah blah blah blah',
		id:'PopupThing'
		},{
		label: 'Flood Stage',
		type:"FAQ",
		text:'Blah blah blah',
		id:'PopupThing'
		},{
		label: 'Watch, Warning, Advisory',
		type:"FAQ",
		text:'Blah blah blah',
		id:'PopupThing'}],
		categoricalStyle, pinkyPromise, pointSwatch);
	  var linksPromise = addToTerms("Useful Links",[{
		label: 'National Weather Service',
		type:"FAQ",
		text:'Blah blah blah',
		id:'PopupThing'
		},{
		label: 'Department of Transportation',
		type:"FAQ",
		text:'Blah blah blah',
		id:'PopupThing'
		}],
		categoricalStyle, termsPromise, pointSwatch);
	</script>
  </body>
</html>
